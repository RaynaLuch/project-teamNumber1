{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shopping-cart.js"],"sourcesContent":["const list = document.querySelector(\".product-list\")\nconst sub = document.querySelector(\".sub-container\")\nconst deleteBtn = document.querySelector(\".delete-btn\")\nconst count = document.querySelector(\".count\")\nconst totalPriceAmount = document.querySelector(\".amount\")\n\n// function getItems() {\n//   const item = localStorage.getItem('basket');\n//   const parsedItems = JSON.parse(item);\n//   return parsedItems\n// }\n\nfunction getCart() {\n  let shoppingCart;\n  let shoppingCartStr = localStorage.getItem(\"basket\");\n  if (!shoppingCartStr) {\n    shoppingCart = [];\n  } else {\n    shoppingCart = JSON.parse(shoppingCartStr);\n  }\n  return shoppingCart;\n}\n\nconst emptyBasket = `<div class=\"empty\">\n<img src=\"./img/yellow shopping basket.png\" alt=\"empty basket\" class=\"empty-picture\">\n<h2 class=\"empty-main-text\">Your basket is <a href=\"../index.html\" class=\"empty-link\">empty...</a> </h2>\n<p class=\"empty-sub-text\">Go to the main page to select your favorite products and add them to the cart.</p>\n</div>`\n\nfunction createPage() {\nconst products = localStorage.getItem(\"basket\")\nconst parsedProducts = JSON.parse(products)\n\n// totalPrice(parsedProducts)\n  if (parsedProducts !== null) {\n    const numCount = parsedProducts.length\n    list.insertAdjacentHTML('beforeend', createImageMarkup(getCart()));\n    count.textContent = numCount;\n    totalPriceAmount.textContent = totalPrice(parsedProducts);\n    return\n    } \n      count.textContent = 0;\n      sub.innerHTML = emptyBasket;\n}\n\ncreatePage();\n\n// DELETE-ALL BTN FUNCTION\n\ndeleteBtn.addEventListener(\"click\",removeAllProducts)\n\nfunction removeAllProducts() {\n  localStorage.removeItem(\"basket\");\n  createPage()\n}\n\n// CART COUNTER FUNCTION\n\n\nfunction totalPrice(array) {\n  let amm = 0;\n  array.map((({ price }) => amm += price))\n  return amm;\n}\n\n// MARKUP function\nfunction createImageMarkup(array) {\n  return array\n    .map(\n      ({ id, img, name, category, size, price }) => `\n      <li class=\"product-cart\" data-id=\"${id}\">\n      <img\n        class=\"product-picture\"\n        src=\"${img}\"\n        width=\"100\"\n        height=\"100\"\n      alt=\"avocado\"\n      />\n      <div class=\"\">\n        <p class=\"product-name\">${name}</p>\n\n        <div class=\"product-descr\">\n          <p>Category: <span class=\"qwe\">${category}</span></p>\n          <p>Size: <span class=\"qwe\">${size}</span></p>\n        </div>\n\n        <p class=\"product-price\">$${price}</p>\n      </div>\n      <button class=\"cart-btn\" type=\"button\">\n        <svg class=\"\">\n          <use href=\"./img/sprite.svg#icon-cross\"></use>\n        </svg>\n      </button>\n    </li>\n    `\n    )\n    .join('');\n}\n\n\n/**\n  |============================\n  | \n  |============================\n*/\n\n// list.addEventListener('click', deleteProduct) \n\n// function deleteProduct(event) {\n//   const arrayP = getCart();\n//   console.log(arrayP);\n//   const currentProduct = event.target.closest(\".product-cart\")\n//   const id = currentProduct.dataset.id;\n//   removeProduct(id)\n  \n// }\n\n// function removeProduct(id) {\n//   let shoppingCart = getCart();\n//   shoppingCart = shoppingCart.filter(p => p._id !== id);\n//   localStorage.setItem('basket', JSON.stringify(shoppingCart));\n// }\n\n\n// function deleteProduct(event) {\n//   const arrayP = getCart();\n//   console.log(arrayP);\n//   const currentProduct = event.target.closest(\".product-cart\")\n//   const id = currentProduct.dataset.id;\n//   console.log(id);\n//   const delProduct = arrayP.find(({ id: productId}) => productId === id)\n\n//   console.log(delProduct);\n// }"],"names":["list","sub","deleteBtn","count","totalPriceAmount","getCart","shoppingCart","shoppingCartStr","emptyBasket","createPage","products","parsedProducts","numCount","createImageMarkup","totalPrice","removeAllProducts","array","amm","price","id","img","name","category","size"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAM,SAAS,cAAc,gBAAgB,EAC7CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAmB,SAAS,cAAc,SAAS,EAQzD,SAASC,GAAU,CACjB,IAAIC,EACAC,EAAkB,aAAa,QAAQ,QAAQ,EACnD,OAAKA,EAGHD,EAAe,KAAK,MAAMC,CAAe,EAFzCD,EAAe,CAAA,EAIVA,CACT,CAEA,MAAME,EAAc;AAAA;AAAA;AAAA;AAAA,QAMpB,SAASC,GAAa,CACtB,MAAMC,EAAW,aAAa,QAAQ,QAAQ,EACxCC,EAAiB,KAAK,MAAMD,CAAQ,EAGxC,GAAIC,IAAmB,KAAM,CAC3B,MAAMC,EAAWD,EAAe,OAChCX,EAAK,mBAAmB,YAAaa,EAAkBR,EAAO,CAAE,CAAC,EACjEF,EAAM,YAAcS,EACpBR,EAAiB,YAAcU,EAAWH,CAAc,EACxD,MACC,CACCR,EAAM,YAAc,EACpBF,EAAI,UAAYO,CACtB,CAEAC,IAIAP,EAAU,iBAAiB,QAAQa,CAAiB,EAEpD,SAASA,GAAoB,CAC3B,aAAa,WAAW,QAAQ,EAChCN,EAAY,CACd,CAKA,SAASK,EAAWE,EAAO,CACzB,IAAIC,EAAM,EACV,OAAAD,EAAM,IAAK,CAAC,CAAE,MAAAE,CAAK,IAAOD,GAAOC,CAAO,EACjCD,CACT,CAGA,SAASJ,EAAkBG,EAAO,CAChC,OAAOA,EACJ,IACC,CAAC,CAAE,GAAAG,EAAI,IAAAC,EAAK,KAAAC,EAAM,SAAAC,EAAU,KAAAC,EAAM,MAAAL,CAAK,IAAO;AAAA,0CACVC;AAAA;AAAA;AAAA,eAG3BC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAMmBC;AAAA;AAAA;AAAA,2CAGSC;AAAA,uCACJC;AAAA;AAAA;AAAA,oCAGHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAS/B,EACA,KAAK,EAAE,CACZ"}