{"version":3,"file":"commonHelpers.js","sources":["../src/js/modal.js","../src/js/carts.js","../src/js/filters.js","../src/js/pagination.js","../src/js/discount.js","../src/js/footer.js","../src/js/popular.js"],"sourcesContent":["import axios from 'axios';\nimport { addProduct, findProductInCart, removeProduct } from './manage-cart.js';\n\nconst BASE_URL = 'https://food-boutique.b.goit.study/api';\n\nconst closeModalBtn = document.querySelector('[data-modal-close]');\nconst modal = document.querySelector('[data-modal]');\n\nconst modalCartBtn = document.querySelector('.modal-cart-button');\n\nfunction toggleModal() {\n  modal.classList.toggle('is-hidden');\n}\n\nconst modalImgField = document.querySelector('#modal-img');\nconst modalNameField = document.querySelector('#modal-name');\nconst modalCategoryField = document.querySelector('#modal-category');\nconst modalSizeField = document.querySelector('#modal-size');\nconst modalPopularityField = document.querySelector('#modal-popularity');\nconst modalDeskField = document.querySelector('#modal-desc');\nconst modalPriceField = document.querySelector('#modal-price');\n\nexport default async function showProductCard(id) {\n  let response;\n  try {\n    response = await axios(BASE_URL + '/products/' + id);\n    console.log(response);\n    modalImgField.src = response.data.img;\n    modalNameField.textContent = response.data.name;\n    modalImgField.alt = modalNameField.textContent;\n    modalCategoryField.textContent = response.data.category;\n    modalSizeField.textContent = response.data.size;\n    modalPopularityField.textContent = response.data.popularity;\n    modalDeskField.textContent = response.data.desc;\n    modalPriceField.textContent = '$' + response.data.price;\n    toggleModal();\n    const removeProductHandler = event => {\n      const product = response.data;\n      removeProduct(product._id);\n      modalCartBtn.removeEventListener('click', removeProductHandler);\n      modalCartBtn.firstChild.textContent = 'Add to';\n      modalCartBtn.addEventListener('click', addProductHandler);\n    };\n    const addProductHandler = event => {\n      const product = response.data;\n      addProduct(product);\n      modalCartBtn.removeEventListener('click', addProductHandler);\n      modalCartBtn.firstChild.textContent = 'Remove from';\n      modalCartBtn.addEventListener('click', removeProductHandler);\n    };\n\n    if (findProductInCart(response.data._id)) {\n      modalCartBtn.firstChild.textContent = 'Remove from';\n      modalCartBtn.addEventListener('click', removeProductHandler);\n    } else {\n      modalCartBtn.firstChild.textContent = 'Add to';\n      modalCartBtn.addEventListener('click', addProductHandler);\n    }\n\n    closeModalBtn.addEventListener('click', closeModalHandler);\n\n    function closeModalHandler() {\n      modalCartBtn.removeEventListener('click', addProductHandler);\n      modalCartBtn.removeEventListener('click', removeProductHandler);\n      closeModalBtn.removeEventListener('click', closeModalHandler);\n      document.removeEventListener('keyup', keyPressHandler);\n      toggleModal();\n    }\n\n    document.addEventListener('keyup', keyPressHandler);\n    function keyPressHandler(e) {\n      if (e.keyCode === 27) {\n        toggleModal();\n        modalCartBtn.removeEventListener('click', addProductHandler);\n        modalCartBtn.removeEventListener('click', removeProductHandler);\n        document.removeEventListener('keyup', keyPressHandler);\n        closeModalBtn.removeEventListener('click', closeModalHandler);\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\nconst closeModalBtnShCart = document.querySelector(\n  '[data-modal-close-shopping-cart]'\n);\nconst modalShCart = document.querySelector('[data-modal-shopping-cart]');\n\ncloseModalBtnShCart?.addEventListener('click', toggleModalShCart);\n\nfunction toggleModalShCart() {\n  modalShCart.classList.toggle('is-hidden');\n}\n\nconst orderModalBtn = document.querySelector('.order-btn');\norderModalBtn?.addEventListener('click', () => toggleModalShCart());\n\nmodalShCart?.addEventListener('keypress', keyPressHandlerShCart);\nfunction keyPressHandlerShCart(e) {\n  if (e.keyCode === 27) {\n    toggleModalShCart();\n    modalShCart?.removeEventListener('keypress', keyPressHandlerShCart);\n  }\n}\n","import showProductCard from './modal';\nimport { addProduct, findProductInCart, removeProduct } from './manage-cart';\nimport icons from '../img/sprite.svg';\n\nfunction createMarkup(arr) {\n  const markup = `<ul class=\"card-container-list\">${arr\n    .map(item => {\n      const categoryWithoutUnderscore = item.category.split('_').join(' ');\n\n      return `\n      <li class=\"photo-card-list\" data-id=\"${item._id}\">\n        <a class=\"product-modal-list\" href=\"#\">\n          <div class=\"img-container-list\">\n            <img class=\"product-image-list\" src=\"${item.img}\" alt=\"${item.name} photo\" width=140 height=140 loading=\"lazy\" />\n          </div>\n\n          <div class=\"product-info-list\">\n            <h3 class=\"product-name-list\">${item.name}</h3>\n            <div class=\"product-atributes-list\">\n              <p class=\"atributes-info-list\">\n                <span class=\"atributes-list\">Category:</span> ${categoryWithoutUnderscore}\n              </p>\n              <p class=\"atributes-info-list\">\n                <span class=\"atributes-list\">Size:</span> ${item.size}\n              </p>\n              <p class=\"atributes-info-list\">\n                <span class=\"atributes-list\">Popularity:</span> ${item.popularity}\n              </p>\n            </div>\n          </div>\n        </a>\n        <div class=\"price-and-btn-list\">\n          <p class=\"product-price-list\">$${item.price}</p>\n          <button class=\"cart-btn-list\" type=\"button\" data-product-id=\"${item._id}\">\n            <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\">\n              <use href=\"${icons}#icon-white-basket\"></use>\n            </svg>\n          </button>\n        </div> \n      </li>\n  `;\n    })\n    .join('')}</ul>`;\n\n  return markup;\n}\n\nfunction setCartButtonEventListeners(arr) {\n  document.querySelectorAll('.cart-btn-list').forEach(button => {\n    button.addEventListener('click', event => {\n      event.stopPropagation();\n      const productId = event.currentTarget.dataset.productId;\n      const product = arr.find(p => p._id === productId);\n      const isInCart = findProductInCart(productId);\n      if (isInCart) {\n        removeProduct(productId);\n        updateCartButtonIcons(productId);\n      } else {\n        addProduct(product);\n        updateCartButtonIcons(productId);\n      }\n    });\n  });\n}\n\nfunction updateCartButtonIcons(id) {\n  const button = document.querySelector(`[data-product-id='${id}']`);\n  if (!button) return;\n  const productInCart = findProductInCart(id);\n\n  if (productInCart) {\n    button.innerHTML = `\n        <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\">\n          <use href=\"${icons}#icon-check\"></use>\n        </svg>\n      `;\n  } else {\n    button.innerHTML = `\n        <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\">\n          <use href=\"${icons}#icon-white-basket\"></use>\n        </svg>\n      `;\n  }\n}\n\nfunction setListeners() {\n  // Opening modal window -------------------------------------\n  const selectedCard = document.querySelectorAll('.photo-card-list');\n  selectedCard.forEach(li => {\n    li.addEventListener('click', event => {\n      event.preventDefault();\n      showProductCard(li.dataset.id);\n    });\n  });\n}\n\nexport {\n  createMarkup,\n  setCartButtonEventListeners,\n  updateCartButtonIcons,\n  setListeners,\n};\n\n// -------------------------------------------------------\n// Scroll Up\nconst btnTop = document.querySelector('#myBtn');\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    btnTop.style.display = 'block';\n  } else {\n    btnTop.style.display = 'none';\n  }\n  btnTop.addEventListener('click', topFunction);\n}\n\nfunction topFunction() {\n  window.scroll({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\n\nwindow.onscroll = scrollFunction;\nwindow.onload = scrollFunction;\n","import axios from 'axios';\nimport SlimSelect from 'slim-select';\nimport '../../node_modules/slim-select/dist/slimselect.css';\nimport {\n  createMarkup,\n  setCartButtonEventListeners,\n  updateCartButtonIcons,\n  setListeners,\n} from './carts.js';\nimport { renderProducts } from './pagination.js';\n\nconst FILTER_STORAGE = 'productFilters';\n\nconst filtersSelect = document.querySelector('.filters-select');\nconst filtersInput = document.querySelector('.filtersInput');\nconst filtersBtn = document.querySelector('.filtersBtn');\nlet ProductsList;\n\nconst productsListContainer = document.getElementById('products-container');\n\n//Додаємо початкові значення змінних у локальне сховище\nconst filterParams = {\n  keyword: null,\n  category: null,\n  page: 1,\n  limit: 9,\n};\n//localStorage.setItem('filterParams', JSON.stringify(filterParams));\n\nfunction getFilters() {\n  const savedFilters = localStorage.getItem(FILTER_STORAGE);\n  return savedFilters\n    ? JSON.parse(savedFilters)\n    : { keyword: null, category: null, page: 1, limit: 6 };\n}\n\nfunction saveFilters(filters) {\n  localStorage.setItem(FILTER_STORAGE, JSON.stringify(filters));\n}\n\n//функція запиту на сервер\nasync function fetchFoods() {\n  try {\n    const response = await axios.get(\n      'https://food-boutique.b.goit.study/api/products/categories'\n    );\n    return response.data;\n  } catch (error) {\n    console.log('Проблема при запросе на сервер');\n    throw new Error(error);\n  }\n}\n// функція яка відправляє дані на сервер\nasync function getProductsListInServer(filterParams) {\n  const { keyword, category, page, limit } = filterParams;\n\n  try {\n    let response;\n\n    if (keyword === null && category === null) {\n      response = await axios.get(\n        `https://food-boutique.b.goit.study/api/products?page=${page}&limit=${limit}`\n      );\n    } else if (keyword === null) {\n      response = await axios.get(\n        `https://food-boutique.b.goit.study/api/products?category=${category}&page=${page}&limit=${limit}`\n      );\n    } else if (category === null) {\n      response = await axios.get(\n        `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&page=${page}&limit=${limit}`\n      );\n    } else {\n      response = await axios.get(\n        `https://food-boutique.b.goit.study/api/products?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`\n      );\n    }\n\n    return response;\n  } catch (error) {\n    console.log('Помилка на сервері при пошуку продуктів', error);\n    throw new Error(error);\n  }\n}\n//Функція опрацювання даних із серверу та відмальовування іх в селект\nasync function fetchData() {\n  try {\n    const resolve = await fetchFoods();\n    const selectMarkup =\n      resolve.map(item => `<option>${item}</option>`).join('') +\n      `<option>Show all</option>`;\n    filtersSelect.insertAdjacentHTML('beforeend', selectMarkup);\n\n    const ss = new SlimSelect({\n      select: '.filters-select',\n    });\n\n    const curFilters = getFilters();\n    filtersInput.value = curFilters.keyword;\n    ss.setSelected(curFilters.category);\n  } catch (error) {\n    console.log('Проблема при обработке данных с сервера', error);\n  }\n}\n\nfetchData();\n//Відслухаємо що натиснув користувач в селекті\nfiltersSelect.addEventListener('change', handleSelection);\n//Відслуховуємо, що користувач клікнув на кнопку відправки\nfiltersBtn.addEventListener('click', handleBtn);\n\n//Функція визначення того, що обрав користувач та відправки даних на сервер\n\nexport async function handleSelection(event) {\n  const selectedCategory = event.currentTarget.value;\n  const currentFilters = getFilters();\n\n  if (selectedCategory === 'Show all' || selectedCategory === 'Categories') {\n    currentFilters.category = null;\n  } else {\n    currentFilters.category = selectedCategory;\n    //localStorage.setItem('filterParams', JSON.stringify(filterParams));\n  }\n  saveFilters(currentFilters);\n\n  ProductsList = await getProductsListInServer(currentFilters);\n  renderProducts();\n\n  // productsListContainer.innerHTML = createMarkup(ProductsList.data.results);\n  // setCartButtonEventListeners(ProductsList.data.results);\n  // setListeners();\n  console.log(ProductsList.data.results);\n}\n//Функція яка зчинує введені дані користувачем з інпута та зберігає їх у локальне сховище\nexport async function handleBtn() {\n  const inputInformation = filtersInput.value;\n  const currentFilters = getFilters();\n\n  if (!inputInformation.trim()) {\n    currentFilters.keyword = null;\n  } else {\n    currentFilters.keyword = inputInformation;\n  }\n  //localStorage.setItem('filterParams', JSON.stringify(filterParams));\n  saveFilters(currentFilters);\n  renderProducts();\n  // ProductsList = await getProductsListInServer(currentFilters);\n  // productsListContainer.innerHTML = createMarkup(ProductsList.data.results);\n  // setCartButtonEventListeners(ProductsList.data.results);\n  // setListeners();\n  console.log(ProductsList.data.results);\n}\n\nasync function getFilteredProductList() {\n  const curFilters = getFilters();\n  console.log('filters', curFilters);\n  const products = await getProductsListInServer(curFilters);\n  return products;\n}\n\nexport { getFilters, saveFilters, getFilteredProductList };\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport {\n  createMarkup,\n  setCartButtonEventListeners,\n  updateCartButtonIcons,\n  setListeners,\n} from './carts.js';\nimport { getFilters, saveFilters, getFilteredProductList } from './filters.js';\n\nconst productsListContainer = document.getElementById('products-container');\nlet pagination;\nlet visiblePages = window.innerWidth < 768 ? 2 : 4;\n\nfunction getProducts(page, limit) {\n  return getFilteredProductList();\n}\n\nfunction updateFilter(key, value) {\n  const filters = getFilters();\n  filters[key] = value;\n  saveFilters(filters);\n}\n\nwindow.addEventListener('resize', updatePageSize);\n\nfunction updatePageSize() {\n  let limit;\n  if (window.innerWidth >= 1440) {\n    limit = 9;\n  } else if (window.innerWidth >= 768) {\n    limit = 8;\n  } else {\n    limit = 6;\n  }\n  const currentFilters = getFilters();\n  if (currentFilters.limit !== limit) {\n    updateFilter('limit', limit);\n    visiblePages = window.innerWidth < 768 ? 2 : 4;\n    renderProducts();\n  }\n}\n\nasync function renderProducts() {\n  const filters = getFilters();\n  let page = filters.page || 1;\n  let limit = filters.limit || 6;\n\n  try {\n    const { data } = await getProducts(page, limit);\n    const { perPage, totalPages, results } = data;\n    const totalItems = perPage * totalPages;\n\n    productsListContainer.innerHTML = createMarkup(results);\n    setCartButtonEventListeners(results);\n    setListeners();\n\n    const container = document.getElementById('tui-pagination-container');\n\n    if (totalPages > 1) {\n      if (!pagination) {\n        pagination = new Pagination(container, {\n          totalItems: totalItems,\n          itemsPerPage: limit,\n          visiblePages: visiblePages,\n          centerAlign: true,\n          page: page,\n        });\n\n        pagination.on('beforeMove', event => {\n          const currentPage = event.page;\n          const currentFilters = getFilters();\n          const newLimit = currentFilters.limit || 6;\n          if (\n            currentPage !== currentFilters.page ||\n            newLimit !== currentFilters.limit\n          ) {\n            updateFilter('page', currentPage);\n            updateFilter('limit', newLimit);\n            renderProducts();\n          }\n        });\n      } else {\n        pagination.reset(totalItems);\n        pagination.movePageTo(page);\n      }\n\n      updateCartButtonIcons();\n    } else {\n      container.innerHTML = '';\n    }\n  } catch (error) {\n    console.error('Error fetching products', error);\n  }\n}\n\nrenderProducts();\n\nexport { renderProducts };\n","import axios from \"axios\";\nimport icons from '../img/sprite.svg';\nimport showProductCard from \"./modal\";\nimport { addProduct, getCart } from \"./manage-cart\";\nimport updatePopularCard from \"./updatePopularCard\";\n\n\nconst discount = document.querySelector(\".carts-discount\");\n\n \nasync function fetchDiscountProducts() {\n  const { data } = await axios.get(\"https://food-boutique.b.goit.study/api/products/discount\");\n\n  // const firstItem = data[Math.floor(Math.random() * data.length)];\n\n  // const secondItem = data[Math.floor(Math.random() * data.length)];\n  // const result = [firstItem, secondItem];\n\n  //   const result = data.sort((a, b) => b.popularity - a.popularity).slice(0, 2);\n  //  return result;\n\n  const result = data.sort(() => Math.random() - 0.5).slice(0, 2);\n    return result;\n}\n     \ncreateDiscountMarkup();\n\nasync function createDiscountMarkup() {\n    const data = await fetchDiscountProducts();\n    const markup = data.map(({ img, is10PercentOff, price, name, _id }) => {\n    const editedName = name.split(\"\").slice(0, 11).join(\"\") + \"...\";\n      // const cart = getCart();\n      // const isInCart = cart.find((p) => p._id === _id );\n\n    return (`<li data-id=\"${_id}\"class=\"dis-product-card\"><img class=\"dis-product-img\" src=\"${img}\" alt=\"${name}\"/><div class=\"dis-card-description\"><p class=\"dis-card-name\">${name.split(\"\").length > 11 ? editedName: name}</p><div class=\"price-btn-list\">\n        <p class=\"product-price-list\">$${price}</p>\n        <button class=\"cart-btn-list\" type=\"button\" data-product-id=\"${_id}\">\n          <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\">\n            <use href=\"${icons}#icon-white-basket\"></use>\n          </svg></button>\n      </div></div></div>${is10PercentOff?`<svg class=\"discount-icon\"><use href=\"${icons}#icon-discount\"></use></svg>`:null}</li>`)}).join('');\n  \n    \n    const container = document.createElement('div');\n    container.classList.add(\"dis-container\");\n\n    const title = document.createElement('h2');\n    title.classList.add(\"discount-title\");\n    title.innerText =\"Discount products\";\n\n    const ul = document.createElement('ul');\n  ul.classList.add(\"discount-list\");\n  ul.innerHTML = markup;\n  \n  container.append(title);\n  container.append(ul);\n\n  const listItems = ul.querySelectorAll(\".dis-product-card\");\n  listItems.forEach((li) => {\n    li.addEventListener(\"click\", (e) => {\n        const productId = li.dataset.id;\n      if (e.target.nodeName === \"BUTTON\" || e.target.nodeName === \"use\" || e.target.nodeName === \"svg\") {\n        const product = data.find((item) => item._id === productId);\n        addProduct(product);\n        updateBtn(productId, true);\n      } else {\n        showProductCard(productId);\n      }\n\n    })\n  });\n\n    discount.append(container);  \n}\nexport function updateBtn(id, isInCart) {\n  const cardEl = discount.querySelector(`[data-id=\"${id}\"]`);\n  if (!cardEl) {\n    return;\n  }\n  const buttonEl = cardEl.children[1].children[1].children[1];\n\n  buttonEl.children[0].children[0].setAttribute(\n    'href',\n    `${icons}#${isInCart ? 'icon-check' : 'icon-white-basket'}`\n  );\n  \n}\n","import axios from 'axios';\n\nconst userEmailsArray =\n  JSON.parse(localStorage.getItem('userEmailsArray')) || [];\n\nconst form = document.querySelector('.footer-form');\nconst modalEmailFooter = document.querySelector('.wrong-email-footer');\nconst modalSendsuccess = document.querySelector('.footer-modal-w-success');\nconst modalSendfailure = document.querySelector('.footer-modal-w-failure');\nconst emailInputFooter = form.querySelector('input[type=email]');\nconst sendBtnFooter = form.querySelector('button[type=submit]');\nconst closeBtnSuccessFooter = document.querySelector(\n  '.footer-close-success-margin'\n);\nconst closeBtnFailureFooter = document.querySelector(\n  '.footer-close-failure-margin'\n);\nconst closeBtnEmailFooter = document.querySelector(\n  '.footer-close-email-margin'\n);\nconst modalSection = document.querySelector('.modal-section');\n\nconst isValidEmail = email => {\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailPattern.test(email);\n};\n\nsendBtnFooter.addEventListener('click', function (event) {\n  event.preventDefault();\n\n  const userEmail = emailInputFooter.value;\n  if (!isValidEmail(userEmail)) {\n    emailInputFooter.value = '';\n    modalEmailFooter.classList.add('visibility');\n    modalSection.classList.add('modal-subscribing-footer');\n    return;\n  }\n\n  createOrder();\n});\n\nconst addUserEmail = () => {\n  const userEmail = emailInputFooter.value;\n\n  if (userEmailsArray.includes(userEmail)) {\n    emailInputFooter.value = '';\n    modalSendfailure.classList.add('visibility');\n    modalSection.classList.add('modal-subscribing-footer');\n  } else {\n    userEmailsArray.push(userEmail);\n    console.log('Users who have already subscribed:', userEmailsArray);\n\n    localStorage.setItem('userEmailsArray', JSON.stringify(userEmailsArray));\n  }\n};\n\nconst createOrder = async () => {\n  try {\n    const apiUrl = 'https://food-boutique.b.goit.study/api/subscription';\n    addUserEmail();\n\n    const postToAdd = {\n      email: `${emailInputFooter.value}`,\n    };\n\n    const response = await axios.post(apiUrl, postToAdd);\n\n    modalSendsuccess.classList.add('visibility');\n    modalSection.classList.add('modal-subscribing-footer');\n    emailInputFooter.value = '';\n  } catch (error) {\n    console.error('Error sending request:', error.message);\n  }\n};\ncloseBtnFailureFooter.addEventListener('click', function (event) {\n  modalSection.classList.remove('modal-subscribing-footer');\n  modalSendfailure.classList.remove('visibility');\n});\ncloseBtnEmailFooter.addEventListener('click', function (event) {\n  modalSection.classList.remove('modal-subscribing-footer');\n  modalEmailFooter.classList.remove('visibility');\n});\n\ncloseBtnSuccessFooter.addEventListener('click', function (event) {\n  modalSection.classList.remove('modal-subscribing-footer');\n  modalSendsuccess.classList.remove('visibility');\n});\n\nconst dynamicImage = document.querySelector('.footer-modal-w-img');\nconst breakpointWidth = 768;\n\nfunction updateImage() {\n  if (window.innerWidth <= breakpointWidth) {\n    dynamicImage.src =\n      'https://github.com/RaynaLuch/project-teamNumber1/blob/main/src/img/rectangle-mobile.png?raw=true';\n  } else {\n    dynamicImage.src =\n      'https://github.com/RaynaLuch/project-teamNumber1/blob/main/src/img/rectangle.png?raw=true';\n  }\n}\n\nupdateImage();\n\nwindow.addEventListener('resize', updateImage);\n\n// function to clear the local storage\n//\n// const clearUserEmailsArray = () => {\n//   userEmailsArray.splice(0, userEmailsArray.length);\n//   localStorage.removeItem('userEmailsArray');\n//   console.log('userEmailsArray has been cleared:', userEmailsArray);\n// };\n//\n// clearUserEmailsArray();\n","import axios from 'axios';\nimport showProductCard from './modal';\nimport { addProduct, findProductInCart, removeProduct } from './manage-cart';\nimport icons from '../img/sprite.svg';\n\nconst BASE_URL = 'https://food-boutique.b.goit.study/api/products/popular';\nconst popularContainer = document.querySelector('.carts-popular');\n\nconst popularTitle = document.createElement('h2');\npopularTitle.classList.add('popular-product-title');\npopularTitle.textContent = 'Popular products';\npopularContainer.appendChild(popularTitle);\n\nconst popularList = document.createElement('ul');\npopularList.classList.add('popular-product-list');\npopularContainer.appendChild(popularList);\n\nfunction createImageCard(product) {\n  if (!product) {\n    console.error('Помилка');\n    return null;\n  }\n  const inCart = findProductInCart(product._id);\n  const card = document.createElement('li');\n  card.classList.add('product-preview');\n  card.setAttribute('data-id', product._id);\n  if (inCart) {\n    card.classList.add('product-preview--in-cart');\n  } else {\n    card.classList.remove('product-preview--in-cart');\n  }\n  const button = document.createElement('button');\n  button.onclick = e => {\n    e.stopPropagation();\n    const inCart = findProductInCart(product._id);\n    if (inCart) {\n      removeProduct(product._id);\n    } else {\n      addProduct(product);\n    }\n  };\n  button.className = 'product-preview__cart-btn';\n  button.innerHTML = `\n    <svg>\n      <use href=\"${icons}#${inCart ? 'icon-check' : 'icon-cart'}\">\n      </use>\n    </svg>`;\n  card.innerHTML = `\n    <div class=\"product-preview__image-container\">\n      <img src=\"${product.img}\" alt=\"${product.name}\">\n    </div>\n    <div class=\"product-preview__info\">\n      <div class=\"product-preview__heading-wrapper\">\n        <h2 class=\"product-preview__heading\">${product.name}</h2>\n      </div>\n      <div class=\"product-preview__description\">\n        <p class=\"product-preview__category\"><span class=\"product-preview__sub-heading\">Category:</span> ${product.category}</p>\n        <p><span class=\"product-preview__sub-heading\">Size:</span> ${product.size}</p>\n        <p><span class=\"product-preview__sub-heading\">Popularity:</span> ${product.popularity}</p>\n      </div>\n    </div>\n  `;\n  card.children[1].children[0].appendChild(button);\n  card.onclick = () => {\n    showProductCard(product._id);\n  };\n  return card;\n}\n\nasync function fetchPopular() {\n  try {\n    const response = await axios.get(BASE_URL);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні даних: ', error);\n    throw error;\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  try {\n    const products = await fetchPopular();\n    console.log(products);\n\n    products\n      .sort((a, b) => b.popularity - a.popularity)\n      .forEach(product => {\n        const card = createImageCard(product);\n        if (card) {\n          popularList.appendChild(card);\n        }\n      });\n  } catch (error) {\n    console.error('Помилка при отриманні даних: ', error);\n  }\n});\n"],"names":["BASE_URL","closeModalBtn","modal","modalCartBtn","toggleModal","modalImgField","modalNameField","modalCategoryField","modalSizeField","modalPopularityField","modalDeskField","modalPriceField","showProductCard","id","response","closeModalHandler","addProductHandler","removeProductHandler","keyPressHandler","e","axios","event","product","removeProduct","addProduct","findProductInCart","error","closeModalBtnShCart","modalShCart","toggleModalShCart","orderModalBtn","keyPressHandlerShCart","createMarkup","arr","item","categoryWithoutUnderscore","icons","setCartButtonEventListeners","button","productId","p","updateCartButtonIcons","setListeners","li","btnTop","scrollFunction","topFunction","FILTER_STORAGE","filtersSelect","filtersInput","filtersBtn","ProductsList","getFilters","savedFilters","saveFilters","filters","fetchFoods","getProductsListInServer","filterParams","keyword","category","page","limit","fetchData","selectMarkup","ss","SlimSelect","curFilters","handleSelection","handleBtn","selectedCategory","currentFilters","renderProducts","inputInformation","getFilteredProductList","productsListContainer","pagination","visiblePages","getProducts","updateFilter","key","value","updatePageSize","data","perPage","totalPages","results","totalItems","container","Pagination","currentPage","newLimit","discount","fetchDiscountProducts","createDiscountMarkup","markup","img","is10PercentOff","price","name","_id","editedName","title","ul","updateBtn","isInCart","cardEl","userEmailsArray","form","modalEmailFooter","modalSendsuccess","modalSendfailure","emailInputFooter","sendBtnFooter","closeBtnSuccessFooter","closeBtnFailureFooter","closeBtnEmailFooter","modalSection","isValidEmail","email","userEmail","createOrder","addUserEmail","apiUrl","postToAdd","dynamicImage","breakpointWidth","updateImage","popularContainer","popularTitle","popularList","createImageCard","inCart","card","fetchPopular","products","a","b"],"mappings":"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"}