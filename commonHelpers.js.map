{"version":3,"file":"commonHelpers.js","sources":["../src/js/filters.js","../src/js/carts.js"],"sourcesContent":["import axios from 'axios';\nimport SlimSelect from 'slim-select';\n// import '/node_modules/slim-select/dist/slimselect.css';\n\nconst filtersSelect = document.querySelector('.filters-select');\nconsole.log(filtersSelect);\n//Додаємо початкові значення змінних у локальне сховище\nconst filterParams = {\n  keyword: null,\n  category: null,\n  page: 1,\n  limit: 6,\n};\nlocalStorage.setItem('filterParams', JSON.stringify(filterParams));\n\n//функція запиту на сервер\n\nfunction fetchFoods() {\n  return axios\n    .get('https://food-boutique.b.goit.study/api/products/categories')\n    .then(data => {\n      return data;\n    })\n    .catch(error => {\n      console.log('Проблема при запиті на сервер');\n      throw new Error(error);\n    });\n}\n// console.log(fetchFoods());\n//Функція опрацювання даних із серверу та відмальовування іх в селект\nfetchFoods()\n  .then(resolve => {\n    //   console.log(resolve.data);\n    const selectMarkup =\n      resolve.data.map(item => `<option>${item}</option>`).join('') +\n      `<option>Show all</option>`;\n    filtersSelect.insertAdjacentHTML('beforeend', selectMarkup);\n    //   new SlimSelect({\n    //     select: '.filters-select',\n    //   });\n  })\n  .catch(error => {\n    console.log('Проблема при опрацювання даних із серверу', error);\n  });\n\n//Відслухаємо що натиснув користувач\n\nfiltersSelect.addEventListener('change', handleSelection);\n\n//Функція визначення того, що обрав користувач та відправки даних на сервер\n\nfunction handleSelection(event) {\n  filterParams.category = event.currentTarget.value;\n  if (filterParams.category === 'Show all') {\n    filterParams.category = null;\n  }\n  //   console.log(filterParams.category);\n  localStorage.setItem('filterParams', JSON.stringify(filterParams));\n}\n","const BASE_URL = `https://food-boutique.b.goit.study/api`;\nconst END_POINT = `/products`;\nconst productsContainer = document.querySelector(`.products-container`);\n\nlet page = 1;\n\nasync function fetchData() {\n  try {\n    const data = await serviceProducts();\n    if (data.results) {\n      console.log(data);\n      productsContainer.innerHTML = createMarkup(data.results);\n    } else {\n      console.error(`No results found in the response data.`);\n    }\n  } catch (error) {\n    console.error(`Error fetching products:`, error);\n  }\n}\n\nasync function serviceProducts() {\n  const queryParams = new URLSearchParams({\n    page: page,\n    limit: 9,\n  });\n\n  const response = await fetch(`${BASE_URL}${END_POINT}?${queryParams}`);\n\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n\n  return response.json();\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ img, name, price, category, size, popularity }) => `\n    <ul>\n      <li class=\"product-card\">\n        <img class=\"product-img\" src=\"${img}\" alt=\"${name} width=\"1000px\" />\n        <div class=\"product-info\">\n          <h3>${name}</h3>\n          <p>Category: ${category}</p>\n          <p>Size: ${size}</p>\n          <p>Popularity: ${popularity}</p>\n          <p class=\"product-price\">$${price}</p>\n        </div>\n      </li>\n    </ul>\n  `\n    )\n    .join('');\n}\n\nfetchData();\n"],"names":["filtersSelect","filterParams","fetchFoods","axios","data","error","resolve","selectMarkup","item","handleSelection","event","BASE_URL","END_POINT","productsContainer","page","fetchData","serviceProducts","createMarkup","queryParams","response","arr","img","name","price","category","size","popularity"],"mappings":"ivBAIA,MAAMA,EAAgB,SAAS,cAAc,iBAAiB,EAC9D,QAAQ,IAAIA,CAAa,EAEzB,MAAMC,EAAe,CACnB,QAAS,KACT,SAAU,KACV,KAAM,EACN,MAAO,CACT,EACA,aAAa,QAAQ,eAAgB,KAAK,UAAUA,CAAY,CAAC,EAIjE,SAASC,GAAa,CACpB,OAAOC,EACJ,IAAI,4DAA4D,EAChE,KAAKC,GACGA,CACR,EACA,MAAMC,GAAS,CACd,cAAQ,IAAI,+BAA+B,EACrC,IAAI,MAAMA,CAAK,CAC3B,CAAK,CACL,CAGAH,EAAY,EACT,KAAKI,GAAW,CAEf,MAAMC,EACJD,EAAQ,KAAK,IAAIE,GAAQ,WAAWA,YAAe,EAAE,KAAK,EAAE,EAC5D,4BACFR,EAAc,mBAAmB,YAAaO,CAAY,CAI9D,CAAG,EACA,MAAMF,GAAS,CACd,QAAQ,IAAI,4CAA6CA,CAAK,CAClE,CAAG,EAIHL,EAAc,iBAAiB,SAAUS,CAAe,EAIxD,SAASA,EAAgBC,EAAO,CAC9BT,EAAa,SAAWS,EAAM,cAAc,MACxCT,EAAa,WAAa,aAC5BA,EAAa,SAAW,MAG1B,aAAa,QAAQ,eAAgB,KAAK,UAAUA,CAAY,CAAC,CACnE,CC1DA,MAAMU,EAAW,yCACXC,EAAY,YACZC,EAAoB,SAAS,cAAc,qBAAqB,EAEtE,IAAIC,EAAO,EAEX,eAAeC,GAAY,CACzB,GAAI,CACF,MAAMX,EAAO,MAAMY,IACfZ,EAAK,SACP,QAAQ,IAAIA,CAAI,EAChBS,EAAkB,UAAYI,EAAab,EAAK,OAAO,GAEvD,QAAQ,MAAM,wCAAwC,CAEzD,OAAQC,EAAP,CACA,QAAQ,MAAM,2BAA4BA,CAAK,CAChD,CACH,CAEA,eAAeW,GAAkB,CAC/B,MAAME,EAAc,IAAI,gBAAgB,CACtC,KAAMJ,EACN,MAAO,CACX,CAAG,EAEKK,EAAW,MAAM,MAAM,GAAGR,IAAWC,KAAaM,GAAa,EAErE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MAClB,CAEA,SAASF,EAAaG,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,IAAAC,EAAK,KAAAC,EAAM,MAAAC,EAAO,SAAAC,EAAU,KAAAC,EAAM,WAAAC,CAAU,IAAO;AAAA;AAAA;AAAA,wCAGpBL,WAAaC;AAAA;AAAA,gBAErCA;AAAA,yBACSE;AAAA,qBACJC;AAAA,2BACMC;AAAA,sCACWH;AAAA;AAAA;AAAA;AAAA,GAKjC,EACA,KAAK,EAAE,CACZ,CAEAR,EAAW"}