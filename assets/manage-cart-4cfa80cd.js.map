{"version":3,"file":"manage-cart-4cfa80cd.js","sources":["../../src/js/header.js","../../src/img/sprite.svg","../../src/js/updatePopularCard.js","../../src/js/manage-cart.js"],"sourcesContent":["export function setNumItems() {\n    const itemsNum = JSON.parse(localStorage.getItem(\"basket\"))?.length ?? 0;\n    const iCount = document.querySelector(\".itemsCount\");\n    iCount.innerText = itemsNum;\n    // console.log(itemsNum);\n  };\n  setNumItems()","export default \"__VITE_ASSET__ba4252b0__\"","import icons from '../img/sprite.svg';\n\nexport default function updatePopularCard(id, isInCart) {\n  const popularList = document.querySelector('.popular-product-list');\n  const cardEl = popularList.querySelector(`[data-id=\"${id}\"]`);\n  if (!cardEl) {\n    return;\n  }\n  if (isInCart) {\n    cardEl.classList.add('product-preview--in-cart');\n  } else {\n    cardEl.classList.remove('product-preview--in-cart');\n  }\n  if (!cardEl) {\n    return;\n  }\n  const buttonEl = cardEl.children[1].children[0].children[1];\n  buttonEl.children[0].children[0].setAttribute(\n    'href',\n    `${icons}#${isInCart ? 'icon-check' : 'icon-cart'}`\n  );\n}\n","import { setNumItems } from './header.js';\nimport updatePopularCard from './updatePopularCard.js';\n\nconst STORAGE = 'basket';\n\nfunction addProduct(product) {\n  const shoppingCart = getCart();\n  shoppingCart.push(product);\n  localStorage.setItem(STORAGE, JSON.stringify(shoppingCart));\n  setNumItems();\n  try {\n    updatePopularCard(product._id, true);\n  } catch (error) {}\n}\n\nfunction findProductInCart(id) {\n  const shoppingCart = getCart();\n  return shoppingCart.find(p => p._id === id);\n}\n\nfunction getCart() {\n  let shoppingCart;\n  let shoppingCartStr = localStorage.getItem(STORAGE);\n  if (!shoppingCartStr) {\n    shoppingCart = [];\n  } else {\n    shoppingCart = JSON.parse(shoppingCartStr);\n  }\n  return shoppingCart;\n}\n\nfunction removeProduct(id) {\n  let shoppingCart = getCart();\n  shoppingCart = shoppingCart.filter(p => p._id !== id);\n  localStorage.setItem(STORAGE, JSON.stringify(shoppingCart));\n  setNumItems();\n  try {\n    updatePopularCard(id, false);\n  } catch (error) {}\n}\n\nfunction removeAllProducts() {\n  localStorage.removeItem(STORAGE);\n  setNumItems();\n}\n\nexport {\n  addProduct,\n  findProductInCart,\n  removeProduct,\n  removeAllProducts,\n  getCart,\n};\n"],"names":["setNumItems","itemsNum","_a","iCount","icons","updatePopularCard","id","isInCart","cardEl","STORAGE","addProduct","product","shoppingCart","getCart","findProductInCart","p","shoppingCartStr","removeProduct","removeAllProducts"],"mappings":"ssBAAO,SAASA,GAAc,OAC1B,MAAMC,IAAWC,EAAA,KAAK,MAAM,aAAa,QAAQ,QAAQ,CAAC,IAAzC,YAAAA,EAA4C,SAAU,EACjEC,EAAS,SAAS,cAAc,aAAa,EACnDA,EAAO,UAAYF,CAEvB,CACED,EAAW,ECNb,MAAeI,EAAA,kDCEA,SAASC,EAAkBC,EAAIC,EAAU,CAEtD,MAAMC,EADc,SAAS,cAAc,uBAAuB,EACvC,cAAc,aAAaF,KAAM,EAS5D,GARI,CAACE,IAGDD,EACFC,EAAO,UAAU,IAAI,0BAA0B,EAE/CA,EAAO,UAAU,OAAO,0BAA0B,EAEhD,CAACA,GACH,OAEeA,EAAO,SAAS,GAAG,SAAS,GAAG,SAAS,GAChD,SAAS,GAAG,SAAS,GAAG,aAC/B,OACA,GAAGJ,KAASG,EAAW,aAAe,aAC1C,CACA,CClBA,MAAME,EAAU,SAEhB,SAASC,EAAWC,EAAS,CAC3B,MAAMC,EAAeC,IACrBD,EAAa,KAAKD,CAAO,EACzB,aAAa,QAAQF,EAAS,KAAK,UAAUG,CAAY,CAAC,EAC1DZ,IACA,GAAI,CACFK,EAAkBM,EAAQ,IAAK,EAAI,CACvC,MAAI,CAAgB,CACpB,CAEA,SAASG,EAAkBR,EAAI,CAE7B,OADqBO,IACD,KAAKE,GAAKA,EAAE,MAAQT,CAAE,CAC5C,CAEA,SAASO,GAAU,CACjB,IAAID,EACAI,EAAkB,aAAa,QAAQP,CAAO,EAClD,OAAKO,EAGHJ,EAAe,KAAK,MAAMI,CAAe,EAFzCJ,EAAe,CAAA,EAIVA,CACT,CAEA,SAASK,EAAcX,EAAI,CACzB,IAAIM,EAAeC,IACnBD,EAAeA,EAAa,OAAOG,GAAKA,EAAE,MAAQT,CAAE,EACpD,aAAa,QAAQG,EAAS,KAAK,UAAUG,CAAY,CAAC,EAC1DZ,IACA,GAAI,CACFK,EAAkBC,EAAI,EAAK,CAC/B,MAAI,CAAgB,CACpB,CAEA,SAASY,GAAoB,CAC3B,aAAa,WAAWT,CAAO,EAC/BT,GACF"}